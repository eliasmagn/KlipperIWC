# KlipperIWC Konzept

KlipperIWC ist eine schlanke Weboberfläche, die Statusinformationen und Steuerbefehle für eine Klipper-basierte 3D-Druckerinstallation bereitstellt. Die Anwendung stellt einen kleinen FastAPI-Service zur Verfügung, der neben einer HTTP-API auch Websocket-basierte Live-Updates ausliefert und perspektivisch um Integrationen in bestehende Drucker-Workflows erweitert wird. Benutzerverwaltung und Login sind bewusst nicht Teil des aktuellen Umfangs und werden erst in einer späteren Ausbaustufe berücksichtigt. Ziel ist eine wartbare, erweiterbare und für verschiedene Installationsziele (Bare Metal, virtuelle Maschine, Container) leicht deploybare Lösung.

Neue Board- und Druckerdefinitionen entstehen zunächst über Beiträge im GitHub-Repository. In einer späteren Phase mit Login-System sollen Anwender fehlende Hardware direkt während der Konfiguration ergänzen können. Als Zwischenschritt steht bereits eine interaktive Board-Designer-Seite zur Verfügung, auf der Pins, Stecker und MCU-Signale mit Rechtecken oder Kreisen markiert und beschriftet werden können. Diese Vorarbeit erleichtert das spätere Überführen der Daten in den produktiven Workflow.

Für die Statuskommunikation existieren aktuell eine lesende HTTP-API (`/api/status`, `/api/jobs`, `/api/temperatures`) sowie ein Websocket-Gateway (`/ws/status`), die strukturierte Demo-Daten liefern und als Fundament für die Echtzeit-Anbindung dienen. Die entsprechenden Pydantic-Modelle bilden das Domain-Modell ab und können bei Bedarf unkompliziert erweitert werden. Eingehende Statuspakete werden zudem persistiert: Ein dedizierter Service-Layer legt Status-, Temperatur- und Job-Historien in SQLite ab, damit spätere Visualisierungen auf echte Verlaufsdaten zugreifen können. Ein periodischer Hintergrundjob sorgt dafür, dass Altdaten anhand einer konfigurierbaren Aufbewahrungsfrist automatisch bereinigt werden. Platzhalter für Authentifizierung und Rate-Limits erlauben es, Sicherheitsanforderungen in einer Folgestufe einzubauen, ohne den bestehenden Datenfluss zu verändern.
